---
sidebar_position: 1
---

# 介绍

通用语言文件是指所有基于 [TabooLib](https://github.com/taboolib/taboolib) 框架所开发的插件都可能会用到的语言文件系统。

常见的表现形式如下所示：

```yaml title="zh_CN.yml"
editor-input-enums: '请选择 {0}'
editor-input-chat:
  - ==: JSON
    text: ' &5&l‹ ›&r &7请在聊天框中输入你要设置的值, 当前值为: &f&n[{0}]'
    args:
      - suggest: '{0}'
        hover: '点击复制'
```

本文将以 [Adyeshach](https://a.ptms.ink) 为例，简要介绍通用语言文件系统的使用方法。

:::tip

只要是 TabooLib 的插件，基本上都是这种语言文件系统。

:::

## 文件格式

通用语言文件使用 `.yml` 作为文件后缀，并以 `zh_CN` 等语言代码作为文件名。

- `zh_CN.yml` 为简体中文语言文件
- `zh_TW.yml` 为繁体中文语言文件
- `en_US.yml` 为英文语言文件
- ...

在文件中，每一行都是一个 `键值对`，键值对的格式为 `键: 值` 或 `键: [值1, 值2, 值3]`。

```yaml title="zh_CN.yml"
example-language: '这是一个示例语言文件'
example-language-list:
  - '这是一个示例语言文件'
  - '这是一个示例语言文件'
  - '这是一个示例语言文件'
```

整个文件必须采用扁平化的结构（即不允许使用 `键1: { 键2: 值 }` 的格式）。

## 输出方式

通用语言文件的基本输出方式如下所示，开发者可能会增加新的输出方式。

### 文本

以字符串的形式输出，这是最基本的输出方式，任何未定义类型的值都会被当作文本输出。

```yaml title="zh_CN.yml"
example-text: '这是一个示例文本'
```

### 复合文本

复合文本是一种特殊的文本，它可以包含更多的信息，例如点击事件、悬停事件等。

:::tip

简单来说就是输出 Json 格式的文本。

:::

复合文本的格式如下所示：

```yaml title="zh_CN.yml"
example-json:
  ==: JSON
  text: '这是一条[&9&n可点击]的信息'
  args:
    - hover: '你好'
      command: '/say Hello'
```

文本中的 `[]` 部分可以在 `args` 中进行修饰，效果如下所示：

<img id="game_img" src="/img/Xnip2023-03-06_12-29-46.png" width="600"/>

当然，你也可以使用 `\` 符号来转义 `[]`，使其能够正常输出。

```yaml title="zh_CN.yml"
example-json:
  ==: JSON
  text: '这是一条[&9&n\[可点击\]]的信息'
  args:
    - hover: '你好'
      command: '/say Hello'
```

<img id="game_img" src="/img/Xnip2023-03-09_21-49-53.png" width="600"/>

<details>
    <summary>「展开 / 收起详情」完整参数 🔍</summary>
    还没写
</details>